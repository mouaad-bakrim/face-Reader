
<!--index.html-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Click Photo</title>
      
      
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="styling1.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Vollkorn' rel='stylesheet' type='text/css'>
      
      <style>
      
       h1{
 color:white;
           text-align: center;
 }
 h3{
 color:#42d5ce;
 }
 .containingDiv{

 margin-top: 100px;
 border-radius: 15px;
     color: white;
 }
      

.btn:hover{     background-color:greenyellow; } 
          
.form-control{
              height:500px;
          }          
#container {
   /* margin: 0px auto;*/
    width: 400px;
    height: 275px;
   /* border: 10px #333 solid; */
    background-image: url(snapshots/download.jpg);
    
}
#videoElement {
    width: 400px;
    height: 275px;
    
  
}
.no-padding
{
  padding-left: 0;
  padding-right: 0;

}

#f_style
{
    width: 100%;
    height: 70%;  
    margin-right: 10px;
    
  
}

</style>

  </head>
  <body>
      <nav role="navigation" class="navbar navbar-inverse">        
        <div class="container-fluid">               
            <div class="navbar-header">                  
                <a class="navbar-brand" href="#"><img src="icon.png" class="logo"></a>                   <button type="button" class="navbar-toggle" data-target="#navbarCollapse" data-toggle="collapse">                     <span class="sr-only">Toggle navigation</span>                     <span class="icon-bar"></span>                     <span class="icon-bar"></span>                     <span class="icon-bar"></span>                   </button>               </div>               <div class="navbar-collapse collapse" id="navbarCollapse">                   <ul class="nav navbar-nav">                       <li><a href="index.html">Home</a></li>                       <li><a href="#">About</a></li> 
    <li><a href="#">Portfolio</a></li>                      
            <li><a href="index.php">Contact</a></li>                   </ul>               </div>           </div>       </nav> 
      
      <!--Create navigation bar with scrollspy-->
      <h1>Upload Your Recently Or Saved Selfie</h1>
      <!-- home section -->
      <div class="container-fluid">
 <div class="row">
 <div class=" col-sm-offset-2 col-sm-2 col-lg-8
containingDiv">
     

 
 <div class="col-md-7">
 <div class="form-group">
<h3 style="text-align:center; color:white; font-weight:bold"> Click Your Photo From Here!! </h3>

        
    
       <video autoplay="true" id="videoElement" name='vid'>
     
       </video>
    

 <a id="download" download="face.jpg">
<button onclick="myFunction(); download(); clickedButton()" style="margin-left: 150px" class="btn" type="button" >capture</button></a>

     </div>  
 </div>
    
                    
    </div>
    
<div class="col-md-7">
 <div class="form-group">

<canvas id="CANVAS" name="CANVAS" width="400" height="350">Your browser does not support Canvas.</canvas>

     
 </div>
    </div>


 
     
      </div>
          </div>
      
      <!--Add a footer for our website-->
       <div class="footer">           <div class="container">               <p>&copy; Develop with Prateek.</p>           </div>       </div>            <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->     <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>     <!-- Include all compiled plugins (below), or include individual files as needed -->     <script src="js/bootstrap.min.js"></script> 
    
    <!--ADD A javascript code for retrieve information from cgi bin server to html page -->

<script>

function download(){
    var download = document.getElementById("download");
    var image = document.getElementById("CANVAS").toDataURL("image/png")
                    .replace("image/jpg", "image/octet-stream");
        download.setAttribute("href", image);
        //download.setAttribute("download","archive.png");
  }





  var video = document.querySelector("#videoElement");
 
if (navigator.mediaDevices.getUserMedia) 
{       
    navigator.mediaDevices.getUserMedia({video: true})
  .then(function(stream) {
    video.srcObject = stream;
  })
  .catch(function(err0r) {
    console.log("Something went wrong!");
  });
var i=0;
function myFunction() {
  var x =  document.getElementById("CANVAS") ;
  var ctx = x.getContext("2d");
  ctx.fillStyle = "#FF0000";
  
  ctx.drawImage(video, 0, 0, 400, 350);

  //ctx.fillRect(20, 20, 150, 100);

  if (i <10)
  {
  document.body.appendChild(x);
  i=i+1;
};


}


}

</script>

<script type="text/javascript" language="JavaScript">
                  function clickedButton()
            {

              window.location.href="http://PublicIp/upload.html";  

            }
             </script>
       


    
    </body>
</html>
      
