
<!--index.html-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Upload Photo</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="styling1.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Vollkorn' rel='stylesheet' type='text/css'>
      
      <style>
      
       h1{
 color:white;
           text-align: center;
 }
 h3{
 color:#42d5ce;
 }
 .containingDiv{

 margin-top: 100px;
 border-radius: 15px;
     color: white;
 }
      

.btn:hover{     background-color:greenyellow; } 
          
.form-control{
              height:500px;
              margin-top: 20px;
          }          

#d1{
    font-style: bold;
    font-family: serif;
    font-size: 18px;
    
              
          }
          .dec{
              margin-top: 40px;
              margin-left: 90px;
          }
</style>

  </head>
  <body>
      <nav role="navigation" class="navbar navbar-inverse">        
        <div class="container-fluid">               
            <div class="navbar-header">                  
                <a class="navbar-brand" href="#"><img src="icon.png" class="logo"></a>                   <button type="button" class="navbar-toggle" data-target="#navbarCollapse" data-toggle="collapse">                     <span class="sr-only">Toggle navigation</span>                     <span class="icon-bar"></span>                     <span class="icon-bar"></span>                     <span class="icon-bar"></span>                   </button>               </div>               <div class="navbar-collapse collapse" id="navbarCollapse">                   <ul class="nav navbar-nav">                       <li><a href="https://tech6788.000webhostapp.com/">Home</a></li>                       <li><a href="#">About</a></li> 
    <li><a href="#">Portfolio</a></li>                      
            <li><a href="index.php">Contact</a></li>                   </ul>               </div>           </div>       </nav> 
      
      <!--Create navigation bar with scrollspy-->
      <h1>Upload Your Recently Or Saved Selfie</h1>
      <!-- home section -->
      <div class="container-fluid">
 <div class="row">
 <div class=" col-sm-offset-2 col-sm-2 col-lg-8
containingDiv">
     

 
 <div class="col-md-5">
 <div class="form-group">
<h3 style="text-align:center; color:white; font-weight:bold"> Select Your Photo From Here!! </h3>
<form enctype = "multipart/form-data" style="text-align:center">
      <input class = "dec" type = "file" name = "filename" id = "photo"/>  
    <br>   
     
<button class="btn" onclick="uploadFile()"> Upload Photo</button>
     </form>
 </div>
    
                    
    </div>  
<div class="col-md-7">
 <div class="form-group">
<h3 style="text-align:center; color:white; font-weight:bold">Face Analysis Result's</h3>
<pre>
<div id="d1">
<textarea  style="background-color:white; color:black; font-size:15px; font-weight:bold;" id="responsetext" class="form-control" name="x" rows="7" cols="90">Loading.....</textarea>
</div>
</pre>

     
 </div>
    </div>


 
     
      </div>
          </div>
      </div>
      <!--Add a footer for our website-->
       <div class="footer">           <div class="container">               <p>&copy; Develop with Prateek.</p>           </div>       </div>            <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->     <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>     <!-- Include all compiled plugins (below), or include individual files as needed -->     <script src="js/bootstrap.min.js"></script> 
    
    <!--ADD A javascript code for retrieve information from cgi bin server to html page -->

<script>

    
const uploadFile = async (e) => {
        console.log("hi")
        e = e || window.event
        e.preventDefault()
        // console.log("hi")
        let form = document.getElementById("form")
        let photo = document.getElementById("photo").files[0]
        let responseText = ""
        // console.log(photo)
        const formData = new FormData()
        formData.append("filename", photo)
        // console.log(formData)`
        const Http = new XMLHttpRequest();
        const url = 'http://PublicIp/cgi-bin/way5.py/';
        // Http.open("POST", url);
        // Http.send();

        Http.open("POST", url, true);
        // Http.setRequestHeader("Content-type", "application/form-data", "Access-Control-Allow-Origin", "*");
        Http.send(formData);

        Http.onreadystatechange = (e) => {  
            let res = ""
            res += Http.responseText.valueOf()
            console.log(res)

            document.getElementById("responsetext").value = res
        }
        
//        console.log(responseText)
        
//        console.log(textArea)
//    textArea.value = responseText`
        // const data = await fetch("http://54.176.5.216/cgi-bin/way5.py/", {
        //     method: "POST",
        //     body: formData
        // })

        // const res = awa

}
    
    
    
function backend() {
var i = document.getElementById("texter").value;

var xhr = new XMLHttpRequest();
xhr.open("GET", "http://54.215.134.143/cgi-bin/backend.py?x="+i, true);
xhr.send();

        xhr.onload = function out(){
                var output = xhr.responseText;
                document.getElementById("d1").innerHTML = output;
        }

}

</script>


       


    
    </body>
</html>
      
